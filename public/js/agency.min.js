$(document).ready(()=>{$(".applicant-one").slideUp(),$(".applicant-two").slideUp(),$(".fca-ref").slideUp(),$(".principal").slideUp(),$(".terminated-info").slideUp(),$(".convictions-info").slideUp(),$("#submit-app").click(a=>{let b=[];$(".errors").empty(),b=validateApplication(),b.length&&(a.preventDefault(),b.forEach(a=>{$(".errors").append("<div class=\"alert alert-danger\" role=\"alert\">"+a+"</div>")}),window.focus(),window.scrollTo(0,400))}),$("#BusinessType").change(()=>{"Sole"==$("#BusinessType").val()?($(".applicant-one").slideDown(),$(".applicant-two").slideUp()):"Partnership"==$("#BusinessType").val()?($(".applicant-one").slideDown(),$(".applicant-two").slideDown()):($(".applicant-one").slideUp(),$(".applicant-two").slideUp())}),$("#FCAAuth").change(()=>{"FCA"==$("#FCAAuth").val()?($(".fca-ref").slideDown(),$(".principal").slideUp()):"AppointedRep"==$("#FCAAuth").val()?($(".principal").slideDown(),$(".fca-ref").slideUp()):($(".fca-ref").slideUp(),$(".principal").slideUp())}),$("#CriminalConvictions").change(()=>{"Yes"==$("#CriminalConvictions").val()?$(".convictions-info").slideDown():$(".convictions-info").slideUp()}),$("#AgencyTerminated").change(()=>{"Yes"==$("#AgencyTerminated").val()?$(".terminated-info").slideDown():$(".terminated-info").slideUp()}),$("#EstablishedDate").on("click",()=>{$("#EstablishedDate").datepicker({dateFormat:"dd-M-yy",changeYear:!0}),$("#EstablishedDate").datepicker("show")}),$("#FinancialYearEnd").on("click",()=>{$("#FinancialYearEnd").datepicker({dateFormat:"dd-M-yy",changeYear:!0}),$("#FinancialYearEnd").datepicker("show")}),$("#IndemRenewalDate").on("click",()=>{$("#IndemRenewalDate").datepicker({dateFormat:"dd-M-yy",changeYear:!0}),$("#IndemRenewalDate").datepicker("show")});let a,b;$("#IndemLimit").on("input",()=>{a=parseInt($("#IndemLimit").val()),isNaN(a)&&$("#IndemLimit").val(""),a=numberWithCommas(a)}),$("#IndemLimit").on("blur",()=>{$("#IndemLimit").val(a),"NaN"==$("#IndemLimit").val()&&$("#IndemLimit").val("")}),$("#IndemExcess").on("input",()=>{b=parseInt($("#IndemExcess").val()),isNaN(b)&&$("#IndemExcess").val(""),b=numberWithCommas(b)}),$("#IndemExcess").on("blur",()=>{$("#IndemExcess").val(b),"NaN"==$("#IndemExcess").val()&&$("#IndemExcess").val("")})});function validateApplication(){let a=[];""===$("#ApplicantName").val()&&a.push("Applicant Name Is Required"),""===$("#ApplicantPosition").val()&&a.push("Applicant Position Is Required"),""===$("#CompanyName").val()&&a.push("Company Name Is Required");let b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;b.test($("#CompanyEmail").val())||""===$("#CompanyEmail").val()||a.push("Company Email Address is Invalid"),""===$("#CompanyEmail").val()&&a.push("Company Email Address Is Required");let c=/^(?:(?:\(?(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?(?:\(?0\)?[\s-]?)?)|(?:\(?0))(?:(?:\d{5}\)?[\s-]?\d{4,5})|(?:\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3}))|(?:\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4})|(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}))(?:[\s-]?(?:x|ext\.?|\#)\d{3,4})?$/g,d=/^(07[\d]{8,12}|447[\d]{7,11})$/g;return c.test($("#CompanyTel").val())||""===$("#CompanyTel").val()||d.test($("#CompanyTel").val())||a.push("Company Phone Number is Invalid"),""===$("#CompanyTel").val()&&a.push("Company Phone Number Is Required"),""===$("#TradingAddress").val()&&a.push("Trading Address Is Required"),""===$("#EstablishedDate").val()&&a.push("Company Established Date Is Required"),""===$("#FinancialYearEnd").val()&&a.push("Financial Year Date Is Required"),""===$("#CompanyRegNo").val()&&a.push("Company Registration Number Is Required"),"null"===$("#FCAAuth").val()&&a.push("Company Authorisation Status Is Required"),"null"===$("#BusinessType").val()&&a.push("Business Type Is Required"),$("#FirstApplicantName").is(":visible")&&""===$("#FirstApplicantName").val()&&a.push("First Applicant Name Is Required"),$("#FirstApplicantAddress").is(":visible")&&""===$("#FirstApplicantAddress").val()&&a.push("First Applicant Address Is Required"),$("#FirstApplicantHomeOwner").is(":visible")&&"null"===$("#FirstApplicantHomeOwner").val()&&a.push("First Applicant Home Owner Status Is Required"),$("#SecondApplicantName").is(":visible")&&""===$("#SecondApplicantName").val()&&a.push("Second Applicant Name Is Required"),$("#SecondApplicantAddress").is(":visible")&&""===$("#SecondApplicantAddress").val()&&a.push("Second Applicant Address Is Required"),$("#SecondApplicantHomeOwner").is(":visible")&&"null"===$("#SecondApplicantHomeOwner").val()&&a.push("Second Applicant Home Owner Status Is Required"),$("#FCAFirmRef").is(":visible")&&""===$("#FCAFirmRef").val()&&a.push("FCA Reference Number Is Required"),$("#PrincipalName").is(":visible")&&""===$("#PrincipalName").val()&&a.push("Appointed Firm Name Is Required"),$("#PrincipalTelNo").is(":visible")&&""===$("#PrincipalTelNo").val()&&a.push("Appointed Firm Phone Number Is Required"),$("#PrincipalAddress").is(":visible")&&""===$("#PrincipalAddress").val()&&a.push("Appointed Firm Address Is Required"),""===$("#IndemInsurer").val()&&a.push("Professional Indemnity Insurer Name Is Required"),""===$("#IndemPolicyNumber").val()&&a.push("Professional Indemnity Policy Number Is Required"),""===$("#IndemRenewalDate").val()&&a.push("Professional Indemnity Renewal Date Is Required"),""===$("#IndemLimit").val()&&a.push("Professional Indemnity Cover Limit Is Required"),""===$("#IndemExcess").val()&&a.push("Professional Indemnity Excess Is Required"),"null"===$("#CriminalConvictions").val()&&a.push("Criminal Convictions Declaration Is Required"),$("#CriminalConvictionsInfo").is(":visible")&&""===$("#CriminalConvictionsInfo").val()&&a.push("Criminal Convictions Information Is Required"),"null"===$("#AgencyTerminated").val()&&a.push("Agency Termination Declaration Is Required"),$("#AgencyTerminatedInfo").is(":visible")&&""===$("#AgencyTerminatedInfo").val()&&a.push("Agency Termination Information Is Required"),a}